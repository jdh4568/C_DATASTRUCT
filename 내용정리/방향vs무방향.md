

> **그래프가 방향인지 무방향인지는 “간선을 삽입하는 코드에서 한 번 넣느냐, 두 번 넣느냐”로 결정된다.**

---

# 🔷 지금까지 만든 4개 코드 정리

| 번호               | 그래프 표현 | 방향성   |
| ---------------- | ------ | ----- |
| ① 인접 리스트 DFS/BFS | 인접 리스트 | ❌ 무방향 |
| ② 인접 행렬 DFS/BFS  | 인접 행렬  | ❌ 무방향 |
| ③ 인접 행렬 최단경로     | 인접 행렬  | ⭕ 방향  |
| ④ 인접 리스트 다익스트라   | 인접 리스트 | ⭕ 방향  |

👉 **방향/무방향의 차이는 알고리즘이 아니라 `간선 삽입`**

---

# 1️⃣ 무방향 그래프가 되는 결정적 코드 (앞의 두 개)

## 🔹 인접 리스트 (무방향)

```c
void insert_edge(int u, int v) {
    Node* p;

    // u -> v
    p = (Node*)malloc(sizeof(Node));
    p->vertex = v;
    p->link = graph[u];
    graph[u] = p;

    // v -> u  ← 이 줄이 핵심
    p = (Node*)malloc(sizeof(Node));
    p->vertex = u;
    p->link = graph[v];
    graph[v] = p;
}
```

### 📌 왜 무방향인가?

* `u → v` 추가
* **`v → u`도 동시에 추가**
* ⇒ 양쪽 다 갈 수 있음

---

## 🔹 인접 행렬 (무방향)

```c
void insert_edge(int u, int v) {
    graph[u][v] = 1;
    graph[v][u] = 1;   // ← 이 줄이 핵심
}
```

### 📌 포인트

* 대각선 기준으로 **대칭 행렬**
* `adj[u][v] == adj[v][u]`

---

# 2️⃣ 방향 그래프가 되는 결정적 코드 (뒤의 두 개)

## 🔹 인접 행렬 + 최단경로 (방향)

```c
void insert_edge(GraphType* g, int from, int to, int w) {
    g->adj_mat[from][to] = w;
}
```

### 📌 왜 방향인가?

* `from → to`만 존재
* `to → from`은 없음
* ⇒ **일방통행**

---

## 🔹 인접 리스트 + 다익스트라 (방향)

```c
void insert_edge(GraphType* g, int from, int to, int weight) {
    Node* p = (Node*)malloc(sizeof(Node));
    p->vertex = to;
    p->weight = weight;
    p->link = g->adj_list[from];
    g->adj_list[from] = p;
}
```

### 📌 포인트

* `from`의 리스트에만 추가
* 반대 방향은 추가 ❌

---

# 3️⃣ 핵심 비교 한 눈에 보기 ⭐

## 🔸 인접 리스트

| 형태  | 간선 삽입         |
| --- | ------------- |
| 무방향 | `u→v` + `v→u` |
| 방향  | `u→v`만        |

---

## 🔸 인접 행렬

| 형태  | 코드                              |
| --- | ------------------------------- |
| 무방향 | `adj[u][v] = 1; adj[v][u] = 1;` |
| 방향  | `adj[u][v] = w;`                |

---

# 4️⃣ 시험에서 자주 나오는 말로 정리하면

> **그래프의 방향성은 간선을 삽입할 때 양방향으로 저장하느냐, 단방향으로 저장하느냐에 따라 결정된다.**

또는

> **무방향 그래프는 인접 행렬이 대칭이며, 인접 리스트는 간선이 양쪽 정점에 모두 저장된다.**

---

# 5️⃣ 실전 판단 체크리스트 ✅

코드를 볼 때 이걸 확인하면 바로 알 수 있어:

* ❓ `insert_edge`에서

  * **두 번 삽입** → 무방향
  * **한 번만 삽입** → 방향
* ❓ 인접 행렬이 대칭인가?

  * Yes → 무방향
  * No → 방향

---

# 🔚 한 줄 암기용 (강추)

> **방향 그래프와 무방향 그래프의 차이는 간선을 저장하는 횟수의 차이이다.**

---

원하면 다음도 정리해줄게 👇

* 🔹 같은 입력을 방향/무방향으로 넣었을 때 결과 비교
* 🔹 DFS/BFS 결과가 왜 달라지는지 설명
* 🔹 최단경로에서 왜 방향성이 중요한지
* 🔹 시험용 OX 문제 5개

다음 뭐 볼까?
